import{u as U,r as p,o as r,c as k,b as a,d as t,z as _,e as i,f as d,bQ as E,E as h,aT as y,bR as b,p as R,k as S,g as C}from"./index-Bj1V9wew.js";import{a as x,E as A}from"./el-col-Bj9h8nFc.js";import{_ as B,E as I}from"./_plugin-vue_export-helper-CSCWavwd.js";import{E as N}from"./el-progress-LuCxsGHa.js";import{P as z}from"./PageContainer-BCHFLDVD.js";import"./el-message-BNTB1Kf7.js";import"./isEqual-CnMbb5Vu.js";const Q=""+new URL("avatar-CQlNaQTu.jpg",import.meta.url).href,T=o=>(R("data-v-c2ed86b3"),o=o(),S(),o),V=["src"],F={key:1,src:Q,width:"278"},L=T(()=>C("br",null,null,-1)),P={__name:"UserAvatar",setup(o){const l=U(),s=p(l.user.user_pic),c=p(),f=n=>{const e=new FileReader;e.readAsDataURL(n.raw),e.onload=()=>{s.value=e.result}},m=async()=>{await E(s.value),await l.getUser(),h.success("更换头像成功")};return(n,e)=>{const v=N,u=I,g=x,w=A;return r(),k(z,{title:"更换头像"},{default:a(()=>[t(w,null,{default:a(()=>[t(g,{span:12},{default:a(()=>[t(v,{ref_key:"uploadRef",ref:c,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":f},{default:a(()=>[s.value?(r(),_("img",{key:0,src:s.value,class:"avatar"},null,8,V)):(r(),_("img",F))]),_:1},512),L,t(u,{onClick:e[0]||(e[0]=$=>c.value.$el.querySelector("input").click()),type:"primary",icon:i(y),size:"large"},{default:a(()=>[d(" 选择图片 ")]),_:1},8,["icon"]),t(u,{onClick:m,type:"success",icon:i(b),size:"large"},{default:a(()=>[d(" 上传头像 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},K=B(P,[["__scopeId","data-v-c2ed86b3"]]);export{K as default};
